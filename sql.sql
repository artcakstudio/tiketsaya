/*
SQLyog Enterprise - MySQL GUI v8.1 
MySQL - 5.6.21 : Database - travelaja
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

CREATE DATABASE /*!32312 IF NOT EXISTS*/`travelaja` /*!40100 DEFAULT CHARACTER SET latin1 */;

USE `travelaja`;

/*Table structure for table `agen_type` */

DROP TABLE IF EXISTS `agen_type`;

CREATE TABLE `agen_type` (
  `AGENT_TYPE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `AGENT_TYPE_NAME` varchar(100) DEFAULT NULL,
  `AGENT_TYPE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `AGENT_TYPE_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `AGENT_TYPE_UPDATEBY` int(11) DEFAULT NULL,
  `AGENT_TYPE_CREATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`AGENT_TYPE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `agen_type` */

/*Table structure for table `agent` */

DROP TABLE IF EXISTS `agent`;

CREATE TABLE `agent` (
  `AGENT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `AGENT_TYPE_ID` int(11) DEFAULT NULL,
  `AGENT_NAME` varchar(100) DEFAULT NULL,
  `AGENT_USERNAME` varchar(100) DEFAULT NULL,
  `AGENT_PASSWORD` varchar(100) DEFAULT NULL,
  `AGENT_EMAIL` varchar(100) DEFAULT NULL,
  `AGENT_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`AGENT_ID`),
  KEY `FK_RELATIONSHIP_15` (`AGENT_TYPE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_15` FOREIGN KEY (`AGENT_TYPE_ID`) REFERENCES `agen_type` (`AGENT_TYPE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `agent` */

/*Table structure for table `agent_typexroles` */

DROP TABLE IF EXISTS `agent_typexroles`;

CREATE TABLE `agent_typexroles` (
  `AGENT_TYPE_ID` int(11) NOT NULL,
  `ROLES_ID` int(11) NOT NULL,
  PRIMARY KEY (`AGENT_TYPE_ID`,`ROLES_ID`),
  KEY `FK_RELATIONSHIP_24` (`ROLES_ID`),
  CONSTRAINT `FK_RELATIONSHIP_18` FOREIGN KEY (`AGENT_TYPE_ID`) REFERENCES `agen_type` (`AGENT_TYPE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_24` FOREIGN KEY (`ROLES_ID`) REFERENCES `roles` (`ROLES_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `agent_typexroles` */

/*Table structure for table `city` */

DROP TABLE IF EXISTS `city`;

CREATE TABLE `city` (
  `CITY_ID` int(11) NOT NULL AUTO_INCREMENT,
  `CITY_NAME` varchar(100) DEFAULT NULL,
  `CITY_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `CITY_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `CITY_UPDATEBY` int(11) DEFAULT NULL,
  `CITY_CREATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`CITY_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=latin1;

/*Data for the table `city` */

insert  into `city`(CITY_ID,CITY_NAME,CITY_UPDATE,CITY_CREATE,CITY_UPDATEBY,CITY_CREATEBY) values (1,'surabaya','2015-08-27 03:40:14','0000-00-00 00:00:00',NULL,NULL),(2,'malang','2015-08-18 20:21:46','2015-08-18 20:21:46',NULL,NULL),(3,'jakarta','2015-08-27 10:39:53','2015-08-27 10:39:53',NULL,NULL),(4,'jogjakarta','2015-08-27 10:40:00','2015-08-27 10:40:00',NULL,NULL),(5,'Bali','2015-08-27 10:40:06','2015-08-27 10:40:06',NULL,NULL),(6,'Banyuwangi','2015-08-27 10:40:22','2015-08-27 10:40:22',NULL,NULL);

/*Table structure for table `costumer` */

DROP TABLE IF EXISTS `costumer`;

CREATE TABLE `costumer` (
  `COSTUMER_NAME` varchar(100) DEFAULT NULL,
  `COSTUMER_EMAIL` varchar(100) DEFAULT NULL,
  `COSTUMER_TELP` varchar(100) DEFAULT NULL,
  `COSTUMER_ID` int(11) NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`COSTUMER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=latin1;

/*Data for the table `costumer` */

insert  into `costumer`(COSTUMER_NAME,COSTUMER_EMAIL,COSTUMER_TELP,COSTUMER_ID) values ('RIPAS','ripas@gmail.com','123',1),('RIPAS','ripas@gmail.com','123',2),('RIPAS','ripas@gmail.com','123',3),('RIPAS','ripas@gmail.com','123',4),('RIPAS','ripas@gmail.com','123',5),('RIPAS','ripas@gmail.com','123',6),('RIPAS','ripas@gmail.com','123',7),('RIPAS','ripas@gmail.com','123',8),('RIPAS','ripas@gmail.com','123',9),('RIPAS','ripas@gmail.com','123',10),('RIPAS','ripas@gmail.com','123',11),('RIPAS','ripas@gmail.com','123',12),('RIPAS','ripas@gmail.com','123',13),('RIPAS','ripas@gmail.com','123',14),('RIPAS','ripas@gmail.com','123',15),('RIPAS','ripas@gmail.com','123',16),('RIPAS','ripas@gmail.com','123',17),('RIPAS','ripas@gmail.com','123',18),('RIPAS','ripas@gmail.com','123',19),('RIPAS','ripas@gmail.com','123',20),('RIPAS','ripas@gmail.com','123',21),('RIPAS','ripas@gmail.com','123',22),('RIPAS','ripas@gmail.com','123',23),('RIPAS','ripas@gmail.com','123',24),('RIPAS','ripas@gmail.com','123',25),('RIPAS','ripas@gmail.com','123',26),('RIPAS','ripas@gmail.com','123',27),('RIPAS','ripas@gmail.com','123',28),('RIPAS','ripas@gmail.com','123',29),('RIPAS','ripas@gmail.com','123',30),('RIPAS','ripas@gmail.com','123',31),('RIPAS','ripas@gmail.com','123',32),('RIPAS','ripas@gmail.com','123',33),('RIPAS','ripas@gmail.com','123',34),('RIPAS','ripas@gmail.com','123',35),('RIPAS','ripas@gmail.com','123',36),('RIPAS','ripas@gmail.com','123',37),('RIPAS','ripas@gmail.com','123',38),('RIPAS','ripas@gmail.com','123',39),('RIPAS','ripas@gmail.com','123',40),('RIPAS','ripas@gmail.com','123',41),('RIPAS','ripas@gmail.com','123',42),('RIPAS','ripas@gmail.com','123',43),('RIPAS','ripas@gmail.com','123',44),('RIPAS','ripas@gmail.com','123',45),('Ripas','ripas@gmail.com','080',46),('RIPAS','ripas@gmail.com','123',47),('RIPAS','ripas@gmail.com','123',48),('LAVE','VELA@LALA.COM','9080',49),('Ripas','VELA@LALA.COM','123',50),('RIPAS','VELA@LALA.COM','9080',51),('Ripas','VELA@LALA.COM','123',52);

/*Table structure for table `hak_akses` */

DROP TABLE IF EXISTS `hak_akses`;

CREATE TABLE `hak_akses` (
  `ROLES_ID` int(11) NOT NULL,
  `MODULES_ID` int(11) NOT NULL,
  `SUB_MODULES_ID` int(11) DEFAULT NULL,
  `HAK_AKSES` int(11) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `hak_akses` */

/*Table structure for table `log_transaction` */

DROP TABLE IF EXISTS `log_transaction`;

CREATE TABLE `log_transaction` (
  `LOG_TRANSACTION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `TRANSACTION_TYPE_ID` int(11) DEFAULT NULL,
  `TRA_TRANSACTION_TYPE_ID` int(11) DEFAULT NULL,
  `TRA_TRANSACTION_TYPE_ID2` int(11) DEFAULT NULL,
  `TRAVEL_TRANSACTION_ID` int(11) DEFAULT NULL,
  `TICKET_TRANSACTION_ID` int(11) DEFAULT NULL,
  `LOG_TRANSACTION_ACTIVITY` varchar(100) DEFAULT NULL,
  `LOG_TRANSACTION_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `LOG_TRANSACTION_CREATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`LOG_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_2` (`TICKET_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_31` (`TRAVEL_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_38` (`TRA_TRANSACTION_TYPE_ID`),
  KEY `FK_RELATIONSHIP_39` (`TRA_TRANSACTION_TYPE_ID2`),
  KEY `FK_RELATIONSHIP_40` (`TRANSACTION_TYPE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_2` FOREIGN KEY (`TICKET_TRANSACTION_ID`) REFERENCES `ticket_transaction` (`TICKET_TRANSACTION_ID`),
  CONSTRAINT `FK_RELATIONSHIP_31` FOREIGN KEY (`TRAVEL_TRANSACTION_ID`) REFERENCES `travel_transaction` (`TRAVEL_TRANSACTION_ID`),
  CONSTRAINT `FK_RELATIONSHIP_38` FOREIGN KEY (`TRA_TRANSACTION_TYPE_ID`) REFERENCES `transaction_type` (`TRANSACTION_TYPE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_39` FOREIGN KEY (`TRA_TRANSACTION_TYPE_ID2`) REFERENCES `transaction_type` (`TRANSACTION_TYPE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_40` FOREIGN KEY (`TRANSACTION_TYPE_ID`) REFERENCES `transaction_type` (`TRANSACTION_TYPE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `log_transaction` */

/*Table structure for table `member` */

DROP TABLE IF EXISTS `member`;

CREATE TABLE `member` (
  `MEMBER_EMAIL` varchar(100) DEFAULT NULL,
  `MEMBER_ID` int(11) NOT NULL AUTO_INCREMENT,
  `MEMBER_NAME` varchar(100) DEFAULT NULL,
  `MEMBER_PASSWORD` varchar(100) DEFAULT NULL,
  `MEMBER_USERNAME` varchar(100) DEFAULT NULL,
  `MEMBER_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `MEMBER_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `MEMBER_CREATEBY` int(11) DEFAULT NULL,
  `MEMBER_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`MEMBER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

/*Data for the table `member` */

insert  into `member`(MEMBER_EMAIL,MEMBER_ID,MEMBER_NAME,MEMBER_PASSWORD,MEMBER_USERNAME,MEMBER_CREATE,MEMBER_UPDATE,MEMBER_CREATEBY,MEMBER_UPDATEBY) values (NULL,1,'ripas','123','ripas','2015-08-21 14:42:52','0000-00-00 00:00:00',NULL,NULL),('ripas',2,'RIpas','202cb962ac59075b964b07152d234b70','123','2015-08-27 14:59:33','0000-00-00 00:00:00',NULL,NULL),('ripas',3,'RIpas','202cb962ac59075b964b07152d234b70','ripas','2015-08-27 15:29:02','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `modules` */

DROP TABLE IF EXISTS `modules`;

CREATE TABLE `modules` (
  `MODULES_ID` int(11) NOT NULL AUTO_INCREMENT,
  `MODULES_NAME` varchar(100) DEFAULT NULL,
  `MODULES_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `MODULES_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `MODULES_CREATEBY` int(11) DEFAULT NULL,
  `MODULES_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`MODULES_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

/*Data for the table `modules` */

insert  into `modules`(MODULES_ID,MODULES_NAME,MODULES_CREATE,MODULES_UPDATE,MODULES_CREATEBY,MODULES_UPDATEBY) values (1,'user management','2015-08-13 14:21:54','0000-00-00 00:00:00',NULL,NULL),(2,'tes','2015-08-18 10:39:59','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `partner` */

DROP TABLE IF EXISTS `partner`;

CREATE TABLE `partner` (
  `PARTNER_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PARTNER_NAME` varchar(100) DEFAULT NULL,
  `PARTNER_ADDRESS` varchar(400) DEFAULT NULL,
  `PARTNER_TELP` varchar(20) DEFAULT NULL,
  `PARTNER_DESCRIPTION` varchar(2000) DEFAULT NULL,
  `PARTNER_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `PARTNER_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `PARTNER_CREATEBY` int(11) DEFAULT NULL,
  `PARTNER_UPDATEBY` int(11) DEFAULT NULL,
  `PARTNER_PHOTO` varchar(50) DEFAULT NULL,
  `PARTNER_USERNAME` varchar(100) DEFAULT NULL,
  `PARTNER_PASSWORD` varchar(100) DEFAULT NULL,
  `PARTNER_EMAIL` varchar(50) DEFAULT NULL,
  `PARTNER_TYPE_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`PARTNER_ID`),
  KEY `FK_partner` (`PARTNER_TYPE_ID`),
  CONSTRAINT `FK_partner` FOREIGN KEY (`PARTNER_TYPE_ID`) REFERENCES `partner_type` (`PARTNER_TYPE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=latin1;

/*Data for the table `partner` */

insert  into `partner`(PARTNER_ID,PARTNER_NAME,PARTNER_ADDRESS,PARTNER_TELP,PARTNER_DESCRIPTION,PARTNER_CREATE,PARTNER_UPDATE,PARTNER_CREATEBY,PARTNER_UPDATEBY,PARTNER_PHOTO,PARTNER_USERNAME,PARTNER_PASSWORD,PARTNER_EMAIL,PARTNER_TYPE_ID) values (1,'ripas','surabaya','0808','lalla','2015-09-01 10:08:32','0000-00-00 00:00:00',NULL,NULL,'63d59d4d106fcf4f2a18a64b7ecac759.png','','202cb962ac59075b964b07152d234b70','ro@ss.com',NULL),(4,'Ripas','surabaya','08080','','2015-09-01 10:08:32','0000-00-00 00:00:00',0,NULL,'3e5b362b396b92bc57127477e66d7dc6.png','ripas','202cb962ac59075b964b07152d234b70',NULL,NULL),(5,'lalal','aalla','090','lla','2015-09-01 13:51:39','0000-00-00 00:00:00',0,NULL,'63d59d4d106fcf4f2a18a64b7ecac759.png','1234','202cb962ac59075b964b07152d234b70','ripas@gmail.com',1),(6,'lalal','aalla','090','lla','2015-08-27 17:12:12','0000-00-00 00:00:00',0,NULL,'63d59d4d106fcf4f2a18a64b7ecac759.png','123','202cb962ac59075b964b07152d234b70',NULL,1),(7,'Ripas','surabaya','08080','','2015-09-01 16:06:55','0000-00-00 00:00:00',0,NULL,'509ab43266703c95069ee288365e6bd6.jpg','ripas','507819e72e1ca53c678f11c38bba8c5b','ripas@gmil.com',2);

/*Table structure for table `partner_type` */

DROP TABLE IF EXISTS `partner_type`;

CREATE TABLE `partner_type` (
  `PARTNER_TYPE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PARTNER_TYPE_NAME` varchar(100) DEFAULT NULL,
  `PARTNER_TYPE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `PARTNER_TYPE_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `PARTNER_TYPE_CREATEBY` int(11) DEFAULT NULL,
  `PARTNER_TYPE_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`PARTNER_TYPE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

/*Data for the table `partner_type` */

insert  into `partner_type`(PARTNER_TYPE_ID,PARTNER_TYPE_NAME,PARTNER_TYPE_CREATE,PARTNER_TYPE_UPDATE,PARTNER_TYPE_CREATEBY,PARTNER_TYPE_UPDATEBY) values (1,'TRAVEL_AGENT','2015-08-27 10:03:27','0000-00-00 00:00:00',NULL,NULL),(2,'RENTAL_AGENT','2015-08-27 10:03:33','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `passenger_detail` */

DROP TABLE IF EXISTS `passenger_detail`;

CREATE TABLE `passenger_detail` (
  `TICKET_TRANSACTION_ID` int(11) DEFAULT NULL,
  `PASSENGER_DETAIL_NAME` varchar(100) DEFAULT NULL,
  `PASSENGER_DETAIL_KTP` varchar(100) DEFAULT NULL,
  `PASSENGER_DETAIL_TITTLE` varchar(10) DEFAULT NULL,
  `PASSENGER_DETAIL_TELP` varchar(50) DEFAULT NULL,
  KEY `FK_RELATIONSHIP_41` (`TICKET_TRANSACTION_ID`),
  CONSTRAINT `FK_RELATIONSHIP_41` FOREIGN KEY (`TICKET_TRANSACTION_ID`) REFERENCES `ticket_transaction` (`TICKET_TRANSACTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `passenger_detail` */

/*Table structure for table `penggunaxroles` */

DROP TABLE IF EXISTS `penggunaxroles`;

CREATE TABLE `penggunaxroles` (
  `USERS_ID` int(11) NOT NULL,
  `ROLES_ID` int(11) NOT NULL,
  PRIMARY KEY (`USERS_ID`,`ROLES_ID`),
  KEY `FK_RELATIONSHIP_6` (`ROLES_ID`),
  CONSTRAINT `FK_RELATIONSHIP_5` FOREIGN KEY (`USERS_ID`) REFERENCES `users` (`USERS_ID`),
  CONSTRAINT `FK_RELATIONSHIP_6` FOREIGN KEY (`ROLES_ID`) REFERENCES `roles` (`ROLES_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `penggunaxroles` */

insert  into `penggunaxroles`(USERS_ID,ROLES_ID) values (1,1);

/*Table structure for table `point` */

DROP TABLE IF EXISTS `point`;

CREATE TABLE `point` (
  `POINT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `POINT_STATUS_ID` int(11) DEFAULT NULL,
  `POINT_NAME` varchar(100) DEFAULT NULL,
  `POINT_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `POINT_CREATEBY` int(11) DEFAULT NULL,
  `POINT_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `POINT_UPDATEBY` int(11) DEFAULT NULL,
  `POINT_STATUS` int(11) DEFAULT NULL,
  PRIMARY KEY (`POINT_ID`),
  KEY `FK_RELATIONSHIP_13` (`POINT_STATUS_ID`),
  CONSTRAINT `FK_RELATIONSHIP_13` FOREIGN KEY (`POINT_STATUS_ID`) REFERENCES `point_status` (`POINT_STATUS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `point` */

/*Table structure for table `point_status` */

DROP TABLE IF EXISTS `point_status`;

CREATE TABLE `point_status` (
  `POINT_STATUS_ID` int(11) NOT NULL AUTO_INCREMENT,
  `POINT_STATUS_NAME` varchar(100) DEFAULT NULL,
  `POINT_STATUS_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `POINT_STATUS_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `POINT_STATUS_CREATEBY` int(11) DEFAULT NULL,
  `POINT_STATUS_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`POINT_STATUS_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `point_status` */

/*Table structure for table `pointxmember` */

DROP TABLE IF EXISTS `pointxmember`;

CREATE TABLE `pointxmember` (
  `POINT_ID` int(11) NOT NULL,
  `MEMBER_ID` int(11) NOT NULL,
  PRIMARY KEY (`POINT_ID`,`MEMBER_ID`),
  KEY `FK_RELATIONSHIP_42` (`MEMBER_ID`),
  CONSTRAINT `FK_RELATIONSHIP_14` FOREIGN KEY (`POINT_ID`) REFERENCES `point` (`POINT_ID`),
  CONSTRAINT `FK_RELATIONSHIP_42` FOREIGN KEY (`MEMBER_ID`) REFERENCES `member` (`MEMBER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `pointxmember` */

/*Table structure for table `rent_schedule` */

DROP TABLE IF EXISTS `rent_schedule`;

CREATE TABLE `rent_schedule` (
  `RENT_SCHEDULE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `RENT_SCHEDULE_DATE` date DEFAULT NULL,
  `RENT_SCHEDULE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `RENT_SCHEDULE_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `RENT_SCHEDULE_UPDATEBY` int(11) DEFAULT NULL,
  `RENT_SCHEDULE_CREATEBY` int(11) DEFAULT NULL,
  `VEHICLE_ID` int(11) DEFAULT NULL,
  `RENT_SCHEDULE_PRICE` int(11) DEFAULT NULL,
  PRIMARY KEY (`RENT_SCHEDULE_ID`),
  KEY `FK_RELATIONSHIP_36` (`VEHICLE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_36` FOREIGN KEY (`VEHICLE_ID`) REFERENCES `vehicle` (`VEHICLE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=latin1;

/*Data for the table `rent_schedule` */

insert  into `rent_schedule`(RENT_SCHEDULE_ID,RENT_SCHEDULE_DATE,RENT_SCHEDULE_CREATE,RENT_SCHEDULE_UPDATE,RENT_SCHEDULE_UPDATEBY,RENT_SCHEDULE_CREATEBY,VEHICLE_ID,RENT_SCHEDULE_PRICE) values (2,'2015-01-01','2015-08-21 13:56:17','2015-08-21 13:56:17',NULL,NULL,9,NULL),(3,'2015-01-02','2015-08-21 14:43:49','2015-08-21 14:43:49',NULL,NULL,9,NULL),(5,'2015-08-01','2015-08-27 16:28:16','2015-08-27 10:55:53',NULL,NULL,9,300000),(26,'2015-09-05','2015-09-01 17:07:24','2015-09-01 17:07:24',NULL,7,22,0),(27,'2015-09-12','2015-09-01 17:07:24','2015-09-01 17:07:24',NULL,7,22,0),(28,'2015-09-19','2015-09-01 17:07:24','2015-09-01 17:07:24',NULL,7,22,0),(29,'2015-09-26','2015-09-01 17:07:24','2015-09-01 17:07:24',NULL,7,22,0);

/*Table structure for table `rent_transaction` */

DROP TABLE IF EXISTS `rent_transaction`;

CREATE TABLE `rent_transaction` (
  `RENT_TRANSACTION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `LOG_TRANSACTION_ID` int(11) DEFAULT NULL,
  `STATUS_TRANSACTION_RENT_ID` int(11) DEFAULT NULL,
  `MEMBER_ID` int(11) DEFAULT NULL,
  `RENT_TRANSACTION_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `RENT_TRANSACTION_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `RENT_TRANSACTION_PRICE` int(11) DEFAULT NULL,
  `RENT_TRANSACTION_DURATION` int(11) DEFAULT NULL,
  `RENT_TRANSACTION_CREATEBY` int(11) DEFAULT NULL,
  `RENT_TRANSACTION_UPDATEBY` int(11) DEFAULT NULL,
  `RENT_TRANSACTION_DATE` timestamp NULL DEFAULT '0000-00-00 00:00:00',
  `RENT_TRANSACTION_CODE` varchar(100) NOT NULL,
  `COSTUMER_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`RENT_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_17` (`STATUS_TRANSACTION_RENT_ID`),
  KEY `FK_RELATIONSHIP_25` (`LOG_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_29` (`MEMBER_ID`),
  KEY `FK_rent_transaction` (`COSTUMER_ID`),
  CONSTRAINT `FK_RELATIONSHIP_17` FOREIGN KEY (`STATUS_TRANSACTION_RENT_ID`) REFERENCES `status_transaction_rent` (`STATUS_TRANSACTION_RENT_ID`),
  CONSTRAINT `FK_RELATIONSHIP_25` FOREIGN KEY (`LOG_TRANSACTION_ID`) REFERENCES `log_transaction` (`LOG_TRANSACTION_ID`),
  CONSTRAINT `FK_RELATIONSHIP_29` FOREIGN KEY (`MEMBER_ID`) REFERENCES `member` (`MEMBER_ID`),
  CONSTRAINT `FK_rent_transaction` FOREIGN KEY (`COSTUMER_ID`) REFERENCES `costumer` (`COSTUMER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;

/*Data for the table `rent_transaction` */

insert  into `rent_transaction`(RENT_TRANSACTION_ID,LOG_TRANSACTION_ID,STATUS_TRANSACTION_RENT_ID,MEMBER_ID,RENT_TRANSACTION_CREATE,RENT_TRANSACTION_UPDATE,RENT_TRANSACTION_PRICE,RENT_TRANSACTION_DURATION,RENT_TRANSACTION_CREATEBY,RENT_TRANSACTION_UPDATEBY,RENT_TRANSACTION_DATE,RENT_TRANSACTION_CODE,COSTUMER_ID) values (1,NULL,2,1,'2015-08-21 16:17:52','2015-08-21 08:24:15',10000,0,NULL,NULL,'0000-00-00 00:00:00','rent_123',NULL),(3,NULL,NULL,NULL,'2015-08-26 17:16:54','2015-08-26 17:16:54',NULL,NULL,1,NULL,'2015-08-26 00:00:00','',4),(4,NULL,NULL,NULL,'2015-08-26 17:26:38','2015-08-26 17:26:38',2,NULL,1,NULL,'2015-08-26 00:00:00','',6),(5,NULL,NULL,NULL,'2015-08-26 17:26:38','2015-08-26 17:26:38',2,NULL,1,NULL,'2015-08-26 00:00:00','',6),(6,NULL,NULL,NULL,'2015-08-26 17:28:08','2015-08-26 17:28:08',2,NULL,1,NULL,'2015-08-26 00:00:00','',7),(7,NULL,NULL,NULL,'2015-08-26 17:28:08','2015-08-26 17:28:08',2,NULL,1,NULL,'2015-08-26 00:00:00','',7),(8,NULL,NULL,NULL,'2015-08-27 11:04:00','2015-08-27 11:04:00',1,NULL,NULL,NULL,'2015-08-27 00:00:00','',17);

/*Table structure for table `rent_transaction_detail` */

DROP TABLE IF EXISTS `rent_transaction_detail`;

CREATE TABLE `rent_transaction_detail` (
  `RENT_TRANSACTION_ID` int(11) NOT NULL,
  `RENT_SCHEDULE_ID` int(11) NOT NULL,
  PRIMARY KEY (`RENT_TRANSACTION_ID`,`RENT_SCHEDULE_ID`),
  KEY `FK_RELATIONSHIP_30` (`RENT_SCHEDULE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_27` FOREIGN KEY (`RENT_TRANSACTION_ID`) REFERENCES `rent_transaction` (`RENT_TRANSACTION_ID`),
  CONSTRAINT `FK_RELATIONSHIP_30` FOREIGN KEY (`RENT_SCHEDULE_ID`) REFERENCES `rent_schedule` (`RENT_SCHEDULE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `rent_transaction_detail` */

insert  into `rent_transaction_detail`(RENT_TRANSACTION_ID,RENT_SCHEDULE_ID) values (1,2),(1,3),(8,5);

/*Table structure for table `roles` */

DROP TABLE IF EXISTS `roles`;

CREATE TABLE `roles` (
  `ROLES_ID` int(11) NOT NULL AUTO_INCREMENT,
  `ROLES_NAME` varchar(100) DEFAULT NULL,
  `ROLES_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ROLES_CREATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `ROLES_UPDATEBY` int(11) DEFAULT NULL,
  `ROLES_CREATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`ROLES_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

/*Data for the table `roles` */

insert  into `roles`(ROLES_ID,ROLES_NAME,ROLES_UPDATE,ROLES_CREATE,ROLES_UPDATEBY,ROLES_CREATEBY) values (1,'admin','2015-08-13 14:19:05','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `route` */

DROP TABLE IF EXISTS `route`;

CREATE TABLE `route` (
  `ROUTE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `ROUTE_DEST` varchar(100) DEFAULT NULL,
  `ROUTE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `ROUTE_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `ROUTE_UPDATEBY` int(11) DEFAULT NULL,
  `ROUTE_CREATEBY` int(11) DEFAULT NULL,
  `ROUTE_DEPARTURE` int(11) DEFAULT NULL,
  `ROUTE_ARRIVE` int(11) DEFAULT NULL,
  PRIMARY KEY (`ROUTE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=latin1 CHECKSUM=1 DELAY_KEY_WRITE=1 ROW_FORMAT=DYNAMIC;

/*Data for the table `route` */

insert  into `route`(ROUTE_ID,ROUTE_DEST,ROUTE_CREATE,ROUTE_UPDATE,ROUTE_UPDATEBY,ROUTE_CREATEBY,ROUTE_DEPARTURE,ROUTE_ARRIVE) values (2,'2','2015-08-31 10:50:36','2015-08-20 12:13:48',NULL,1,1,NULL),(3,'1','2015-08-31 10:50:36','2015-08-20 17:22:21',NULL,2,2,NULL),(4,'2','2015-08-31 10:50:37','0000-00-00 00:00:00',NULL,1,1,NULL),(5,'3','2015-08-31 10:50:37','2015-08-27 10:40:40',NULL,1,1,NULL),(6,'4','2015-08-31 10:50:37','2015-08-27 10:40:46',NULL,1,1,NULL),(7,'5','2015-08-31 10:50:38','2015-08-27 10:40:52',NULL,1,1,NULL),(8,'6','2015-08-31 10:50:39','2015-08-27 10:40:57',NULL,1,1,NULL),(9,'4','0000-00-00 00:00:00','2015-08-31 11:07:08',NULL,NULL,2,NULL),(10,'4','2015-08-31 11:12:12','0000-00-00 00:00:00',5,5,2,NULL),(11,'2','2015-09-02 10:52:10','2015-09-02 10:52:10',NULL,6,1,NULL);

/*Table structure for table `status_transaction_rent` */

DROP TABLE IF EXISTS `status_transaction_rent`;

CREATE TABLE `status_transaction_rent` (
  `STATUS_TRANSACTION_RENT_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `STATUS_TRANSACTION_RENT_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `STATUS_TRANSACTION_RENT_CREATEBY` int(11) DEFAULT NULL,
  `STATUS_TRANSACTION_RENT_UPDATEBY` int(11) DEFAULT NULL,
  `STATUS_TRANSACTION_RENT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `STATUS_TRANSACTION_RENT_NAME` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`STATUS_TRANSACTION_RENT_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

/*Data for the table `status_transaction_rent` */

insert  into `status_transaction_rent`(STATUS_TRANSACTION_RENT_CREATE,STATUS_TRANSACTION_RENT_UPDATE,STATUS_TRANSACTION_RENT_CREATEBY,STATUS_TRANSACTION_RENT_UPDATEBY,STATUS_TRANSACTION_RENT_ID,STATUS_TRANSACTION_RENT_NAME) values ('2015-08-21 14:43:25','0000-00-00 00:00:00',NULL,NULL,1,'belum disetujui'),('2015-08-21 15:09:01','0000-00-00 00:00:00',NULL,NULL,2,'belum bayar');

/*Table structure for table `sub_modules` */

DROP TABLE IF EXISTS `sub_modules`;

CREATE TABLE `sub_modules` (
  `SUB_MODULES_ID` int(11) NOT NULL AUTO_INCREMENT,
  `SUB_MODULES_NAME` varchar(100) DEFAULT NULL,
  `SUB_MODULES_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `SUB_MODULES_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `SUB_MODULES_CREATEBY` int(11) DEFAULT NULL,
  `SUB_MODULES_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`SUB_MODULES_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

/*Data for the table `sub_modules` */

insert  into `sub_modules`(SUB_MODULES_ID,SUB_MODULES_NAME,SUB_MODULES_CREATE,SUB_MODULES_UPDATE,SUB_MODULES_CREATEBY,SUB_MODULES_UPDATEBY) values (1,'view','2015-08-13 14:19:53','0000-00-00 00:00:00',NULL,NULL),(2,'edit','2015-08-13 14:19:55','0000-00-00 00:00:00',NULL,NULL),(3,'delete','2015-08-13 14:20:00','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `ticket_transaction` */

DROP TABLE IF EXISTS `ticket_transaction`;

CREATE TABLE `ticket_transaction` (
  `TICKET_TRANSACTION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `MEMBER_ID` int(11) DEFAULT NULL,
  `STATUS_TRANSACTION_RENT_ID` int(11) DEFAULT NULL,
  `TICKET_TRANSACTION_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `TICKET_TRANSACTION_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `TICKET_TRANSACTION_CREATEBY` int(11) DEFAULT NULL,
  `TICKET_TRANSACTION_UPDATEBY` int(11) DEFAULT NULL,
  `TICKET_TRANSATION_CODE` varchar(50) DEFAULT NULL,
  `TICKET_TRANSACTION_PRICE` int(11) DEFAULT NULL,
  `TICKET_TRANSACTION_BUYERNAME` varchar(100) DEFAULT NULL,
  `TICKET_TRANSACTION_BUYERTELP` varchar(100) DEFAULT NULL,
  `TICKET_TRANSACTION_BUYEREMAIL` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`TICKET_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_1` (`STATUS_TRANSACTION_RENT_ID`),
  KEY `FK_RELATIONSHIP_10` (`MEMBER_ID`),
  CONSTRAINT `FK_RELATIONSHIP_1` FOREIGN KEY (`STATUS_TRANSACTION_RENT_ID`) REFERENCES `status_transaction_rent` (`STATUS_TRANSACTION_RENT_ID`),
  CONSTRAINT `FK_RELATIONSHIP_10` FOREIGN KEY (`MEMBER_ID`) REFERENCES `member` (`MEMBER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `ticket_transaction` */

/*Table structure for table `ticket_transaction_detail` */

DROP TABLE IF EXISTS `ticket_transaction_detail`;

CREATE TABLE `ticket_transaction_detail` (
  `TICKET_TRANSACTION_ID` int(11) DEFAULT NULL,
  `TICKET_TRANSACTION_DETAIL_ARRIVETIME` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `TICKET_TRANSACTION_DETAIL_DEPARTTIME` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `TICKET_TRANSACTION_DETAIL_ARRIVE` varchar(100) DEFAULT NULL,
  `TICKET_TRANSACTION_DETAIL_DEPART` varchar(100) DEFAULT NULL,
  `TICKET_TRANSACTION_DETAIL_PRICE` int(11) DEFAULT NULL,
  `TICKET_TRANSACTION_DETAIL_CODE` varchar(100) DEFAULT NULL,
  KEY `FK_RELATIONSHIP_37` (`TICKET_TRANSACTION_ID`),
  CONSTRAINT `FK_RELATIONSHIP_37` FOREIGN KEY (`TICKET_TRANSACTION_ID`) REFERENCES `ticket_transaction` (`TICKET_TRANSACTION_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `ticket_transaction_detail` */

/*Table structure for table `transaction_type` */

DROP TABLE IF EXISTS `transaction_type`;

CREATE TABLE `transaction_type` (
  `TRANSACTION_TYPE_ID` int(11) NOT NULL,
  `TRANSACTION_TYPE_NAME` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`TRANSACTION_TYPE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `transaction_type` */

/*Table structure for table `travel_schedule` */

DROP TABLE IF EXISTS `travel_schedule`;

CREATE TABLE `travel_schedule` (
  `TRAVEL_SCHEDULE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `ROUTE_ID` int(11) DEFAULT NULL,
  `TRAVEL_SCHEDULE_PRICE` int(11) DEFAULT NULL,
  `TRAVEL_SCHEDULE_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `TRAVEL_SCHEDULE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `TRAVEL_SCHEDULE_UPDATEBY` int(11) DEFAULT NULL,
  `TRAVEL_SCHEDULE_CREATEBY` int(11) DEFAULT NULL,
  `TRAVEL_SCHEDULE_ARRIVETIME` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `TRAVEL_SCHEDULE_DEPARTTIME` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `VEHICLE_ID` int(11) DEFAULT NULL,
  PRIMARY KEY (`TRAVEL_SCHEDULE_ID`),
  KEY `FK_RELATIONSHIP_8` (`ROUTE_ID`),
  KEY `FK_travel_schedule` (`VEHICLE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_8` FOREIGN KEY (`ROUTE_ID`) REFERENCES `route` (`ROUTE_ID`),
  CONSTRAINT `FK_travel_schedule` FOREIGN KEY (`VEHICLE_ID`) REFERENCES `vehicle` (`VEHICLE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2653 DEFAULT CHARSET=latin1;

/*Data for the table `travel_schedule` */

insert  into `travel_schedule`(TRAVEL_SCHEDULE_ID,ROUTE_ID,TRAVEL_SCHEDULE_PRICE,TRAVEL_SCHEDULE_UPDATE,TRAVEL_SCHEDULE_CREATE,TRAVEL_SCHEDULE_UPDATEBY,TRAVEL_SCHEDULE_CREATEBY,TRAVEL_SCHEDULE_ARRIVETIME,TRAVEL_SCHEDULE_DEPARTTIME,VEHICLE_ID) values (15,2,1000000,'2015-08-27 10:49:35','2015-08-27 10:49:35',NULL,NULL,'2015-08-01 01:00:00','2015-08-01 10:10:00',12),(16,2,50000,'2015-08-27 10:49:55','2015-08-27 10:49:55',NULL,NULL,'2015-08-01 09:00:00','2015-08-01 06:00:00',13),(2630,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-07 12:00:00','2015-09-07 10:00:00',19),(2631,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-08 12:00:00','2015-09-08 10:00:00',19),(2632,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-14 12:00:00','2015-09-14 10:00:00',19),(2633,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-15 12:00:00','2015-09-15 10:00:00',19),(2634,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-21 12:00:00','2015-09-21 10:00:00',19),(2635,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-22 12:00:00','2015-09-22 10:00:00',19),(2636,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-28 12:00:00','2015-09-28 10:00:00',19),(2637,10,0,'2015-09-01 15:53:37','2015-09-01 15:53:37',NULL,5,'2015-09-29 12:00:00','2015-09-29 10:00:00',19),(2638,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-01 12:00:00','2015-09-01 10:00:00',23),(2639,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-02 12:00:00','2015-09-02 10:00:00',23),(2640,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-03 12:00:00','2015-09-03 10:00:00',23),(2641,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-04 12:00:00','2015-09-04 10:00:00',23),(2642,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-05 12:00:00','2015-09-05 10:00:00',23),(2643,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-12 12:00:00','2015-09-12 10:00:00',23),(2644,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-11 12:00:00','2015-09-11 10:00:00',23),(2645,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-10 12:00:00','2015-09-10 10:00:00',23),(2646,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-09 12:00:00','2015-09-09 10:00:00',23),(2647,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-08 12:00:00','2015-09-08 10:00:00',23),(2648,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-07 12:00:00','2015-09-07 10:00:00',23),(2649,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-14 12:00:00','2015-09-14 10:00:00',23),(2650,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-06 12:00:00','2015-09-06 10:00:00',23),(2651,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-13 12:00:00','2015-09-13 10:00:00',23),(2652,11,100000,'2015-09-02 10:53:15','2015-09-02 10:53:15',NULL,6,'2015-09-15 12:00:00','2015-09-15 10:00:00',23);

/*Table structure for table `travel_transaction` */

DROP TABLE IF EXISTS `travel_transaction`;

CREATE TABLE `travel_transaction` (
  `TRAVEL_TRANSACTION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `MEMBER_ID` int(11) DEFAULT NULL,
  `TRAVEL_TRANSACTION_STATUS_ID` int(11) DEFAULT NULL,
  `TRAVEL_TRANSACTION_NAME` varchar(100) DEFAULT NULL,
  `TRAVEL_TRANSACTION_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `TRAVEL_TRANSACTION_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `TRAVEL_TRANSACTION_PRICE` int(11) DEFAULT NULL,
  `TRAVEL_TRANSACTION_CODE` varchar(20) DEFAULT NULL,
  `COSTUMER_ID` int(11) DEFAULT NULL,
  `TRAVEL_SCHEDULE_ID` int(11) DEFAULT NULL,
  `TRAVEL_TRANSACTION_PASSENGER` int(11) DEFAULT NULL,
  PRIMARY KEY (`TRAVEL_TRANSACTION_ID`),
  KEY `FK_RELATIONSHIP_26` (`TRAVEL_TRANSACTION_STATUS_ID`),
  KEY `FK_RELATIONSHIP_33` (`MEMBER_ID`),
  KEY `FK_travel_transaction` (`COSTUMER_ID`),
  KEY `FK_travel_transaction_schedule` (`TRAVEL_SCHEDULE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_26` FOREIGN KEY (`TRAVEL_TRANSACTION_STATUS_ID`) REFERENCES `travel_transaction_status` (`TRAVEL_TRANSACTION_STATUS_ID`),
  CONSTRAINT `FK_RELATIONSHIP_33` FOREIGN KEY (`MEMBER_ID`) REFERENCES `member` (`MEMBER_ID`),
  CONSTRAINT `FK_travel_transaction` FOREIGN KEY (`COSTUMER_ID`) REFERENCES `costumer` (`COSTUMER_ID`),
  CONSTRAINT `FK_travel_transaction_schedule` FOREIGN KEY (`TRAVEL_SCHEDULE_ID`) REFERENCES `travel_schedule` (`TRAVEL_SCHEDULE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=latin1;

/*Data for the table `travel_transaction` */

insert  into `travel_transaction`(TRAVEL_TRANSACTION_ID,MEMBER_ID,TRAVEL_TRANSACTION_STATUS_ID,TRAVEL_TRANSACTION_NAME,TRAVEL_TRANSACTION_CREATE,TRAVEL_TRANSACTION_UPDATE,TRAVEL_TRANSACTION_PRICE,TRAVEL_TRANSACTION_CODE,COSTUMER_ID,TRAVEL_SCHEDULE_ID,TRAVEL_TRANSACTION_PASSENGER) values (34,NULL,1,NULL,'2015-08-27 14:23:02','0000-00-00 00:00:00',1,'TRAVEL_1',48,16,2),(35,NULL,1,NULL,'2015-08-27 14:35:11','0000-00-00 00:00:00',1,'TRAVEL_1',49,16,3),(36,NULL,1,NULL,'2015-08-27 14:37:26','0000-00-00 00:00:00',1,'TRAVEL_1',50,16,1),(37,NULL,1,NULL,'2015-08-27 14:39:46','0000-00-00 00:00:00',1,'TRAVEL_2',51,15,9),(38,NULL,1,NULL,'2015-08-27 14:41:56','0000-00-00 00:00:00',1000000,'TRAVEL_3',52,15,1);

/*Table structure for table `travel_transaction_status` */

DROP TABLE IF EXISTS `travel_transaction_status`;

CREATE TABLE `travel_transaction_status` (
  `TRAVEL_TRANSACTION_STATUS_ID` int(11) NOT NULL AUTO_INCREMENT,
  `TRAVEL_TRANSACTION_STATUS_NAME` varchar(100) DEFAULT NULL,
  `TRAVEL_TRANSACTION_STATUS_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `TRAVEL_TRANSACTION_STATUS_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `TRAVEL_TRANSACTION_STATUS_UPDATEBY` int(11) DEFAULT NULL,
  `TRAVEL_TRANSACTION_STATUS_CREATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`TRAVEL_TRANSACTION_STATUS_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

/*Data for the table `travel_transaction_status` */

insert  into `travel_transaction_status`(TRAVEL_TRANSACTION_STATUS_ID,TRAVEL_TRANSACTION_STATUS_NAME,TRAVEL_TRANSACTION_STATUS_CREATE,TRAVEL_TRANSACTION_STATUS_UPDATE,TRAVEL_TRANSACTION_STATUS_UPDATEBY,TRAVEL_TRANSACTION_STATUS_CREATEBY) values (1,'BELUM BAYAR','2015-08-21 17:06:58','0000-00-00 00:00:00',NULL,NULL),(2,'LUNAS','2015-08-21 17:17:43','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `users` */

DROP TABLE IF EXISTS `users`;

CREATE TABLE `users` (
  `USERS_ID` int(11) NOT NULL AUTO_INCREMENT,
  `USERS_NAME` varchar(100) DEFAULT NULL,
  `USERS_USERNAME` varchar(100) DEFAULT NULL,
  `USERS_EMAIL` varchar(100) DEFAULT NULL,
  `USERS_PASSWORD` varchar(100) DEFAULT NULL,
  `USERS_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `USERS_CREATEBY` int(11) DEFAULT NULL,
  `USERS_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `USERS_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`USERS_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=latin1;

/*Data for the table `users` */

insert  into `users`(USERS_ID,USERS_NAME,USERS_USERNAME,USERS_EMAIL,USERS_PASSWORD,USERS_CREATE,USERS_CREATEBY,USERS_UPDATE,USERS_UPDATEBY) values (1,'admin','admin','admin@admin.com','21232f297a57a5a743894a0e4a801fc3','2015-08-17 13:49:40',NULL,'2015-08-17 06:45:19',1),(3,'RIPAS','bayu','ripas@rmail.com','123','2015-08-19 14:28:49',NULL,'0000-00-00 00:00:00',NULL);

/*Table structure for table `vehicle` */

DROP TABLE IF EXISTS `vehicle`;

CREATE TABLE `vehicle` (
  `VEHICLE_UPDATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `VEHICLE_CAPACITY` int(11) DEFAULT NULL,
  `VEHICLE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PARTNER_ID` int(11) DEFAULT NULL,
  `VEHICLE_STATUS_ID` int(11) DEFAULT NULL,
  `CITY_ID` int(11) DEFAULT NULL,
  `VEHICLE_TYPE_ID` int(11) DEFAULT NULL,
  `VEHICLE_NAME` varchar(100) DEFAULT NULL,
  `VEHICLE_PHOTO` varchar(100) DEFAULT NULL,
  `VEHICLE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `VEHICLE_CREATEBY` int(11) DEFAULT NULL,
  `VEHICLE_UPDATEBY` int(11) DEFAULT NULL,
  `VEHICLE_DESCRIPTION` varchar(2000) DEFAULT NULL,
  PRIMARY KEY (`VEHICLE_ID`),
  KEY `FK_RELATIONSHIP_19` (`PARTNER_ID`),
  KEY `FK_RELATIONSHIP_21` (`VEHICLE_STATUS_ID`),
  KEY `FK_RELATIONSHIP_22` (`CITY_ID`),
  KEY `FK_RELATIONSHIP_7` (`VEHICLE_TYPE_ID`),
  CONSTRAINT `FK_RELATIONSHIP_19` FOREIGN KEY (`PARTNER_ID`) REFERENCES `partner` (`PARTNER_ID`),
  CONSTRAINT `FK_RELATIONSHIP_21` FOREIGN KEY (`VEHICLE_STATUS_ID`) REFERENCES `vehicle_status` (`VEHICLE_STATUS_ID`),
  CONSTRAINT `FK_RELATIONSHIP_22` FOREIGN KEY (`CITY_ID`) REFERENCES `city` (`CITY_ID`),
  CONSTRAINT `FK_RELATIONSHIP_7` FOREIGN KEY (`VEHICLE_TYPE_ID`) REFERENCES `vehicle_type` (`VEHICLE_TYPE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=latin1;

/*Data for the table `vehicle` */

insert  into `vehicle`(VEHICLE_UPDATE,VEHICLE_CAPACITY,VEHICLE_ID,PARTNER_ID,VEHICLE_STATUS_ID,CITY_ID,VEHICLE_TYPE_ID,VEHICLE_NAME,VEHICLE_PHOTO,VEHICLE_CREATE,VEHICLE_CREATEBY,VEHICLE_UPDATEBY,VEHICLE_DESCRIPTION) values ('2015-08-26 05:00:57',8,9,1,1,1,1,'AVANZA','7cbb62b87b12b18366e862b238e971d3.jpg','2015-08-19 12:27:09',NULL,1,'lala'),('2015-08-26 05:43:11',20,10,1,1,1,1,'ELF Putih','78432d16870323050890d275f7534338.jpg','2015-08-19 14:40:40',NULL,1,'lalal'),('2015-08-25 03:59:45',20,11,1,1,1,1,'ELF Merah','f30c1d8b8b546059d6832deb13f17462.jpg','2015-08-19 14:49:29',NULL,1,'lalala'),('2015-08-26 04:24:40',20,12,1,1,1,1,'ELF Biru','8d2782289aeafd7b7695b38e45672296.jpg','2015-08-25 11:04:06',1,1,'elf loh'),('2015-08-25 11:04:27',6,13,1,1,1,3,'XENIA','b12308f201c369f47bb223aefcab9b7f.jpg','2015-08-25 11:04:27',1,NULL,''),('2015-08-25 11:04:55',15,14,1,1,1,4,'Mini Bus','aa74c60e43fecf7dc6c5c795bdd060ff.jpg','2015-08-25 11:04:55',1,NULL,''),('2015-08-25 11:05:25',18,15,1,1,1,4,'L-300 ','661196b99e3f3ea7d54c82de2c2238d1.jpg','2015-08-25 11:05:25',1,NULL,''),('2015-08-25 11:06:04',25,16,1,1,1,4,'Bus Mini','e292a8f18be338c1f3deba9a8cd12fbb.jpg','2015-08-25 11:06:04',1,NULL,''),('2015-08-25 11:10:00',8,17,1,1,1,2,'INNOVA Orange','45ef00dde0f05ed723fe7c4d88f8cd1f.jpg','2015-08-25 11:10:00',1,NULL,''),('2015-08-25 11:10:35',20,18,1,1,1,4,'L-300 ','f468300d4eb2db3428722efa1f7f38d9.jpg','2015-08-25 11:10:35',1,NULL,''),('2015-09-01 11:16:01',20,19,5,1,1,3,'Avanza','509ab43266703c95069ee288365e6bd6.jpg','2015-08-31 11:55:49',5,NULL,'ini bagus'),('2015-08-31 12:18:47',20,21,5,1,1,1,'Avanza','0087200b0d0ee676ce78634d2528a083.jpg','2015-08-31 12:18:47',5,NULL,'s'),('2015-09-01 10:21:45',20,22,7,1,1,3,'Avanza','6ca4fac01e1863e974544debaf679e03.jpg','2015-09-01 16:16:09',7,7,'10000'),('2015-09-02 10:52:37',8,23,6,1,1,3,'Avanza','a192c071402370abc9931366b8327d3a.jpg','2015-09-02 10:52:37',6,NULL,'Mahal');

/*Table structure for table `vehicle_status` */

DROP TABLE IF EXISTS `vehicle_status`;

CREATE TABLE `vehicle_status` (
  `VEHICLE_STATUS_ID` int(11) NOT NULL AUTO_INCREMENT,
  `VEHICLE_STATUS_NAME` varchar(100) DEFAULT NULL,
  `VEHICLE_STATUS_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `VEHICLE_STATUS_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `VEHICLE_STATUS_CREATEBY` int(11) DEFAULT NULL,
  `VEHICLE_STATUS_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`VEHICLE_STATUS_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;

/*Data for the table `vehicle_status` */

insert  into `vehicle_status`(VEHICLE_STATUS_ID,VEHICLE_STATUS_NAME,VEHICLE_STATUS_CREATE,VEHICLE_STATUS_UPDATE,VEHICLE_STATUS_CREATEBY,VEHICLE_STATUS_UPDATEBY) values (1,'bagus','2015-08-18 20:23:34','0000-00-00 00:00:00',NULL,NULL);

/*Table structure for table `vehicle_type` */

DROP TABLE IF EXISTS `vehicle_type`;

CREATE TABLE `vehicle_type` (
  `VEHICLE_TYPE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `VEHICLE_TYPE_NAME` varchar(200) DEFAULT NULL,
  `VEHICLE_TYPE_CREATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `VEHICLE_TYPE_CREATEBY` int(11) DEFAULT NULL,
  `VEHICLE_TYPE_UPDATE` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `VEHICLE_TYPE_UPDATEBY` int(11) DEFAULT NULL,
  PRIMARY KEY (`VEHICLE_TYPE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

/*Data for the table `vehicle_type` */

insert  into `vehicle_type`(VEHICLE_TYPE_ID,VEHICLE_TYPE_NAME,VEHICLE_TYPE_CREATE,VEHICLE_TYPE_CREATEBY,VEHICLE_TYPE_UPDATE,VEHICLE_TYPE_UPDATEBY) values (1,'ELF','2015-08-25 10:58:30',NULL,'0000-00-00 00:00:00',NULL),(2,'INNOVA','2015-08-25 10:58:42',NULL,'0000-00-00 00:00:00',NULL),(3,'AVANZA','2015-08-25 10:58:48',NULL,'0000-00-00 00:00:00',NULL),(4,'MINIBUS','2015-08-25 10:58:56',NULL,'0000-00-00 00:00:00',NULL);

/* Function  structure for function  `getCityName` */

/*!50003 DROP FUNCTION IF EXISTS `getCityName` */;
DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` FUNCTION `getCityName`(ID varchar(100)) RETURNS varchar(100) CHARSET latin1
BEGIN
	DECLARE NAMA VARCHAR(100);
	SELECT CITY_NAME INTO NAMA FROM CITY WHERE CITY_ID=ID;
	RETURN NAMA;
    END */$$
DELIMITER ;

/* Function  structure for function  `travel_code` */

/*!50003 DROP FUNCTION IF EXISTS `travel_code` */;
DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` FUNCTION `travel_code`() RETURNS varchar(20) CHARSET latin1
BEGIN
	DECLARE transaksicode VARCHAR(20);
	DECLARE temp VARCHAR(20);
	SELECT MAX(TRAVEL_TRANSACTION_CODE) INTO transaksicode FROM TRAVEL_TRANSACTION;
	
	iF transaksicode IS NULL THEN SET transaksicode='1';
	ELSE  SET transaksicode=SUBSTR(transaksicode,8,1)+1;
	END IF;
	
	SET transaksicode=CONCAT('TRAVEL_',transaksicode);
	RETURN transaksicode;
    END */$$
DELIMITER ;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
